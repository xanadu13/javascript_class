<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>제이쿼리 문서객체 조작 - scroll layout</title>
  <!-- 레이아웃 서식 -->
  <link rel="stylesheet" href="./css/scroll.css" type="text/css">

  <!-- jQuery 라이브러리 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  
  <script>
    $(function(){
      // 1. 내비게이션 메뉴 클릭시 해당하는 인덱스 값 구하기
      let mnu = $('.gnb li');

      mnu.click(function(){
        let n = $(this).index();        
        console.log(n);
        $('html, body').animate({scrollTop:$('section').eq(n).offset().top-50}, 500);
        return false;
      });
      

      $(window).scroll(function(){
        
        console.log($(this).scrollTop());
        // 화면 스크롤 값 출력해보기

        let sPos = $(this).scrollTop();
        
        // if문을 활용해 조건 범위에 맞는 a요소에 서식 적용하기
        // if(sPos >= 0 && sPos <= 888){
        //   $('.gnb ul li a').removeClass('t_act');
        //   $('.gnb ul li:first-child a').addClass('t_act');
        // }else if(sPos >= 900 && sPos <= 1798){
        //   $('.gnb ul li a').removeClass('t_act');
        //   $('.gnb ul li:nth-child(2) a').addClass('t_act');
        // }else if(sPos >= 1800 && sPos <= 2698){
        //   $('.gnb ul li a').removeClass('t_act');
        //   $('.gnb ul li:nth-child(3) a').addClass('t_act');
        // }else if(sPos >= 2700 && sPos <= 3598){
        //   $('.gnb ul li a').removeClass('t_act');
        //   $('.gnb ul li:nth-child(4) a').addClass('t_act');
        // }else if(sPos >= 3600 && sPos <= 4498){
        //   $('.gnb ul li a').removeClass('t_act');
        //   $('.gnb ul li:nth-child(5) a').addClass('t_act');
        // }else if(sPos >= 4500 && sPos <= 5398){
        //   $('.gnb ul li a').removeClass('t_act');
        //   $('.gnb ul li:nth-child(6) a').addClass('t_act');
        // }else if(sPos >= 5400 && sPos <= 6300){
        //   $('.gnb ul li a').removeClass('t_act');
        //   $('.gnb ul li:last-child a').addClass('t_act');
        // }else{
        //   // 조건에 해당되지 않으면 서식을 제거
        //   $('.gnb ul li a').removeClass('t_act');
        // };

        
        // offset 메서드로 각각 해당하는 박스의 위치값에 따른 서식 적용하기
        $('main section').each(function(i){
          let top = $(this).offset().top-50;
          if(sPos >= top){
            $('.gnb li a').removeClass('t_act');
            $('.gnb li').eq(i).find('a').addClass('t_act');
          }
        });
      
        
      });






    });
  </script>

</head>
<body>
  <!-- 상단헤더영역 -->
  <header>
    <h1><a href="index.html" title="메인페이지로 바로가기">상단로고</a></h1>

    <nav class="gnb">
      <ul>
        <li><a href="#" title="home" class="t_act">home</a></li>
        <li><a href="#" title="features">features</a></li>
        <li><a href="#" title="overview">overview</a></li>
        <li><a href="#" title="pricing">pricing</a></li>
        <li><a href="#" title="team">team</a></li>
        <li><a href="#" title="blog">blog</a></li>
        <li><a href="#" title="contact">contact</a></li>
      </ul>
    </nav>

  </header>

  <!-- 메인콘텐츠영역 -->
  <main>

    <section class="sec01">
      <h2>메인 비쥬얼 콘텐츠</h2>
    </section>

    <section class="sec02">
      <h2>features</h2>
    </section>

    <section class="sec03">
      <h2>overview</h2>
    </section>

    <section class="sec04">
      <h2>pricing</h2>
    </section>

    <section class="sec05">
      <h2>team</h2>
    </section>

    <section class="sec06">
      <h2>blog</h2>
    </section>

    <section class="sec07">
      <h2>contact</h2>
    </section>

  </main>
  
  <!-- 푸터영역 -->
  <footer>
    <address>Copyright &copy; 2023 NYU all rights reserved.</address>
  </footer>
</body>
</html>